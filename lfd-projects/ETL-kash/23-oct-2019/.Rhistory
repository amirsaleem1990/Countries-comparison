main= "Accounts_list",
xlab= "Name",
las=2)
accounts_list
barplot(table(accounts_list$name),
main= "Accounts_list",
xlab= "Name",
las=2)
paste(accounts_list$name, accounts_list$X.type)
accounts_list
library(DBI)
# connect to database
con <- dbConnect(RSQLite::SQLite(), "ETL.db")
tables <- dbListTables(con)
# variables names
dbListFields(con, "call_log")
# dataframe
dbReadTable(con, "call_log")
# variables names
dbListFields(con, "call_log")
getwd()
q()
errors = read.csv("logs.csv")
errors
View(errors)
barplot(table(errors$File))
barplot(table(errors$File)/nrow(errors))
table(errors$File)
nrow(errors)
barplot(table(errors$File)/nrow(errors),
main= "Accounts_list",
xlab= "Name",
las=2)
barplot(table(errors$File)/nrow(errors),
main= "Accounts_list",
las=2)
barplot(table(errors$File)/nrow(errors),
main= "Files with Error(any)",
ylab = "%"
las=2)
barplot(table(errors$File)/nrow(errors),
main= "Files with Error(any)",
ylab = "%",
las=2)
table(errors$File)
order(table(errors$File))
sort(table(errors$File))
sort(table(errors$File), decreasing = TRUE)
barplot(sort(table(errors$File)/nrow(errors), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
library(DBI)
con <- dbConnect(RSQLite::SQLite(), "ETL.db")
tables <- dbListTables(con)
sort(table(errors$File), decreasing = TRUE)
tables
dbListFields(con, "call_log")
ID <- c()
for (i in tables){
for (i in tables){
ID <- append(ID, dbListFields(con, "ID"))
}
for (i in tables){
ID <- append(ID, dbListFields(con, "ID"))
}
print(tables)
ID <- c()
for (i in tables){
ID <- append(ID, dbReadTable(con, "ID"))
}
for (i in tables){
try(
ID <- append(ID, dbReadTable(con, "ID"))
)
}
con <- dbConnect(RSQLite::SQLite(), "ETL.db")
tables <- dbListTables(con)
tables
for (i in tables){
try(
df <- dbReadTable(con, i)
ID <- append(ID, df$ID)
)
}
ID <- c()
for (i in tables){
df <- dbReadTable(con, i)
ID <- append(ID, df$ID)
}
llength(unique(ID))
length(unique(ID))
ID$1
ID[1]
ID[2]
ID <- c()
for (i in tables){
ID <- c()
for (i in tables){
df <- dbReadTable(con, i)
ID <- append(ID, paste(df$ID, df$Date...time))
}
length(ID)
unique(ID)
length(ID)
table(ID)
unique_IDs_qty <- unique(ID)
unique_IDs_qty
unique_IDs_qty <- length(unique(ID))
unique_IDs_qty
barplot(sort(table(errors$File)/unique_IDs_qty, decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
barplot(sort((table(errors$File)/unique_IDs_qty * 10), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
0
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
xaxt = 'n',
las=2)
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.8, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.4, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.3, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 8, cex = 0.3, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 2, cex = 0.3, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 1, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.8, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.6, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 1, cex = 0.6, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 15, cex = 0.6, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 1, cex = 0.6, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.6, col = "red")
text(x = xx, y = sort((table(errors$File), label = dat$freqs, pos = 3, cex = 0.8, col = "red")
text(x = xx, y = sort(table(errors$File)), label = dat$freqs, pos = 3, cex = 0.8, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.8, col = "red")
text(x = xx, y = sort(table(errors$File)), cex = 0.8, col = "red")
pos = 3,
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.8, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.8, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 80, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 10, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 2, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 1, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.9, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.3, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.8, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 0.8, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 1, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 2, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
text(x = xx, y = sort(table(errors$File)), pos = 3, cex = 1.5, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
text(x = xx, y = sort(table(errors$File)), pos = 1, cex = 1.5, col = "red")
text(x = xx, y = sort(table(errors$File)), pos = 5, cex = 1.5, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
text(x = xx, y = sort(table(errors$File)), pos = 2, cex = 1.5, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2); text(x = xx, y = sort(table(errors$File)), pos = 2, cex = 1.5, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2); text(x = xx, y = sort(table(errors$File)), pos = 2, cex = 1.5, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2); text(x = xx, y = names(sort(table(errors$File))), pos = 2, cex = 1.5, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2); text(x = xx, y = sort(table(errors$File)), pos = 2, cex = 1.5, col = "red")
xx <- barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
las=2)
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
col=brewer.pal(5,"Set1"),border="white",
las=2)
library(RColorBrewer)
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
col=brewer.pal(5,"Set1"),border="white",
las=2)
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
col=brewer.pal(5,"Set1"),border="white",
las=2)
library(dplyr)
group_by(errors$File, errors$Error)
group_by(errors$File, errors$Error) %>% print()
group_by(errors$File, errors$Error) %>% print
group_by(errors$File, errors$Error) %>% summarise()
str(errors)
group_by(errors$File, errors$Error) %>% summarise(count = n())
dplyr::group_by(errors$File, errors$Error) %>% summarise(count = n())
dplyr::group_by_(errors$File, errors$Error) %>% summarise(count = n())
dplyr::group_by(errors$File, errors$Error) %>% summarise(count = n())
ls
str(errors)
library(reshape2)
df.melt <- melt(errors, id="Error")
df.melt
bar <- group_by(df.melt, variable, gender)%.%summarise(mean=mean(value))
bar <- group_by(df.melt, variable, gender)%>%summarise(mean=mean(value))
bar <- group_by(df.melt, variable, Error)%>%summarise(mean=mean(value))
rm(df.melt)
gg <- melt(errors,id="Error")
gg
library(ggplot2)
ggplot(gg, aes(x=variable, y=value, fill=factor(Error))) +
stat_summary(fun.y=mean, geom="bar",position=position_dodge(1)) +
scale_color_discrete("Gender")
gg <- melt(errors,id="Error")
ggplot(gg, aes(x=variable, y=value, fill=factor(Error))) +
stat_summary(geom="bar",position=position_dodge(1)) +
scale_color_discrete("Error")
ggplot(gg, aes(x=variable, y=value, fill=factor(Error))) +
stat_summary(geom="bar",position=position_dodge()) +
scale_color_discrete("Error")
gg
gg <- melt(errors,id="Error")
ggplot(gg, aes(x=Error, y=value, fill=factor(Error))) +
stat_summary(geom="bar",position=position_dodge()) +
scale_color_discrete("Error")
gg <- melt(errors,id="Error")
ggplot(gg, aes(x=Error, y=value, fill=factor(Error))) +
stat_summary(geom="bar",position=position_dodge(1)) +
scale_color_discrete("Error")
gg
gg = sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE)
gg
ggplot(errors, aes(x=File, fill=factor(Error))) +
stat_summary(geom="bar",position=position_dodge(1)) +
scale_color_discrete("Error")
ggplot(errors, aes(x=File, fill=factor(Error)))
errors %>%
gather("Type", "Value") %>%
ggplot(aes(File, Value, fill = Type)) +
geom_bar(position = "dodge", stat = "identity") +
theme_bw()
library(tidyr)
errors %>%
gather("Type", "Value") %>%
ggplot(aes(File, Value, fill = Type)) +
geom_bar(position = "dodge", stat = "identity") +
theme_bw()
errors %>%
gather("Type", "Value")
errors %>%
ggplot(aes(File, Time, fill = Error)) +
geom_bar(position = "dodge", stat = "identity") +
theme_bw()
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
col=brewer.pal(5,"Set1"),border="white",
las=2)
errors %>%
gather(variable, value)
ggplot()+
geom_bar(aes(x = variable, fill = value), color = "black" , position = "stack", show.legend = FALSE)
errors %>%
gather(variable, value) %>%
ggplot()+
geom_bar(aes(x = variable, fill = value), color = "black" , position = "stack", show.legend = FALSE)
errors %>%
gather(variable, value) %>%
ggplot()+
geom_bar(aes(x = value, fill = variable), color = "black" , position = "stack", show.legend = FALSE)
errors %>%
gather(variable, value) %>%
ggplot()+
geom_bar(aes(x = value, fill = variable), color = "black" , position = "stack")
errors %>%
gather(variable, value) %>%
ggplot()+
geom_bar(aes(x = variable, fill = value), color = "black" , position = "stack")
errors %>%
gather(variable, value
)
errors
ggplot(data = errors %>% gather(Variable, File, -Error),
aes(x = Error, y = File, fill = Variable)) +
geom_bar(stat = 'identity', position = 'dodge')
errors %>% group_by(File)
errors %>% group_by(File) %>% summarise(count = n())
errors %>% group_by(File, Error) %>% summarise(count = n())
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_bar(stat = 'identity', position = 'dodge')
class(gg)
gg <- data.frame(errors %>% group_by(File, Error) %>% summarise(count = n()))
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_bar(stat = 'identity', position = 'dodge')
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_bar(stat = 'identity', position_dodge(1))
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_bar(stat = 'identity', position_dodge(1))
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_bar(stat = 'identity', position = 'dodge')
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_bar(position = 'dodge')
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_bar(position = 'dodge')
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_bar(stat = 'identity', position = 'dodge')
barplot(gg)
barplot(gg$File, gg$count, beside = TRUE, col = gg$Error)
barplot(gg$File, gg$count, beside = TRUE)
barplot(gg$count, gg$File, beside = TRUE)
gg
ggplot(data = gg, aes(x = File, y = count, fill = Error)) +
geom_col(position = position_dodge())
gg <- gather(errors, variable,value, -File)
ggplot(data = gg, aes(x = File, y = value, fill = Error)) +
geom_col(position = position_dodge())
gg
gg
gg <- data.frame(errors %>% group_by(File, Error) %>% summarise(count = n()))
gg
boxplot(gg, beside = TRUE, gg$)
boxplot(gg, beside = TRUE, gg$File, gg$count)
barplot(gg, beside = TRUE, gg$File, gg$count)
barplot(gg, beside = TRUE, gg$count, gg$File)
barplot(gg, beside = TRUE, gg$File, gg$count)
barplot(gg, beside = TRUE, gg$Error, gg$count)
barplot(gg, Error, count)
barplot(gg$Error, gg$count)
barplot(gg$Error)
barplot(gg$File)
barplot(gg$File, gg$count)
gg$count
gg$File
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
col=brewer.pal(5,"Set1"),border="white",
las=2)
barplot(errors, beside = TRUE)
barplot(errors, beside = TRUE)
errors
classes <- levels(cut(60:100, breaks = c(60,70,80,90,100),
right =FALSE))
my.df <- data.frame(lengthclass = classes,
both = c(7,10,11,4),
male = c(5,5,6,2),
female = c(2,5,5,2))
my.df
str(my.df)
t(as.matrix(my.df[, 2:4]))
ggplot(gg, aes(fill= Error, y=count, x=File)) +
geom_bar(position="dodge", stat="identity")
gg
melt(errors)
?melt
melt(errors, Error)
melt(errors, File)
melt(errors, id=c("File", "Error"))
melt(errors, id=c("File", "Error"))
nrow(error)
nrow(errors)
melt(errors, id=c("File", "Error"))c(1,2)
melt(errors, id=c("File", "Error"))[,c(1,2)]
melt(errors, id=c("File", "Error"))[,c(1,2)] %>% group_by(c(File, Error)) %>% summarise(count = n())
melt(errors, id=c("File", "Error"))[,c(1,2)] %>% group_by(c(File, Error))
melt(errors, id=c("File", "Error"))[,c(1,2)] %>% group_by(File)
melt(errors, id=c("File", "Error"))[,c(1,2)] %>% group_by(File, Error)
melt(errors, id=c("File", "Error"))[,c(1,2)] %>% group_by(File, Error) %>% summarise(count = n())
gg <- data.frame(errors %>% group_by(File, Error) %>% summarise(count = n()))
gg
errors
ggplot(errors, aes(x = File))
ggplot(errors, aes(x = File)) + geom_bar()
ggplot(errors, aes(x = File, fill=Error)) + geom_bar()
errors$File
errors
errors %>% arrange(File)
errors %>% arrange(File)
errors[28,] <- c("phoneRawDataFile-12345678912466-1562699324833", "sms_sent_log", "File not fount", "2019-07-10 00:08")
errors[28,] <- c("phoneRawDataFile-12345678912466-1562699324833", "sms_sent_log", "File not fount", 2019-07-10 00:08)
errors[28,] <- c("phoneRawDataFile-12345678912466-1562699324833", "sms_sent_log", "File not fount", 5)
str(errors)
errors[28,] <- c("phoneRawDataFile-12345678912466-1562699324833", "sms_sent_log", "File not fount", "5")
errors
errors$Error[28]
errors$Error[28] <- "A"
errors$Error[28]
errors$Error[28] <- a
errors$Error[28] <- 5
errors[28,] <- c("phoneRawDataFile-12345678912466-1562699324833", "sms_sent_log", "File not fount", "2019-07-01 12:29")
ls
errors
errors$Error[24]
errors$Error[23]
errors$Error[23] <- "Empty file"
errors
ggplot(errors, aes(x = File, fill=Error)) + geom_bar()
ggplot(errors, aes(x = File, fill=Error)) + geom_bar(position_dodge())
ggplot(errors, aes(x = File, fill=Error)) + geom_bar(position_dodge2())
ggplot(errors, aes(x = File, fill=Error)) + geom_bar(position_dodge())
gg <- data.frame(errors %>% group_by(File, Error) %>% summarise(count = n()))
ggplot(errors, aes(x = File, fill=Error)) + geom_bar(position_dodge())
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge", stat="identity")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge") +
ggtitle("Studying 4 species..") +
theme_ipsum()
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge") +
ggtitle("Studying 4 species..")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge") +
ggtitle("Files with Error")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge") +
labs(title = "Files with Error")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge") +
ggtitle("Plot of length \n by dose")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge") +
ggtitle("Plot of length \n by dose")
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge") +
labs(title = "Files with Error")
rm(list = ls())
library(dplyr)
library(RColorBrewer)
library(DBI)
con <- dbConnect(RSQLite::SQLite(), "ETL.db")
tables <- dbListTables(con)
ID <- c()
for (i in tables){
df <- dbReadTable(con, i)
ID <- append(ID, paste(df$ID, df$Date...time))
}
unique_IDs_qty <- length(unique(ID))
errors = read.csv("logs.csv")
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any)",
ylab = "%",
col=brewer.pal(5,"Set1"),border="white",
las=2)
barplot(sort((table(errors$File)/unique_IDs_qty * 100), decreasing = TRUE),
main= "Files with Error(any) in %",
ylab = "%",
col=brewer.pal(5,"Set1"),border="white",
las=2)
ggplot(errors, aes(x = File, fill=Error)) +
geom_bar(position = "dodge") +
labs(title = "Files with Error")
q()
